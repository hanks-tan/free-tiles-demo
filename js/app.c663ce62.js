(function(e){function t(t){for(var a,o,c=t[0],s=t[1],l=t[2],u=0,h=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);p&&p(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,c=1;c<r.length;c++){var s=r[c];0!==i[s]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},i={app:0},n=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0cd1":function(e,t,r){},"3a10":function(e,t,r){},"49f8":function(e,t,r){"use strict";r("0cd1")},"56d7":function(e,t,r){"use strict";r.r(t);var a=r("a026"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("MapView")],1)},n=[],o=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"layer-switch"},[t("div",{staticClass:"sw"},[t("i",{staticClass:"iconfont",class:{"icon-arrow-up-bold":e.showLayerSwitch,"icon-arrow-down":!e.showLayerSwitch},on:{click:function(t){e.showLayerSwitch=!e.showLayerSwitch}}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showLayerSwitch,expression:"showLayerSwitch"}],staticClass:"main"},e._l(e.tileList,(function(r,a){return t("div",{key:r.code,staticClass:"layer-item",class:{"layer-item-last":a===e.tileList.length-1},on:{click:function(t){return e.changeBaseLayer(r)}}},[e._v(" "+e._s(r.name)+" ")])})),0)]),t("div",{staticClass:"map",attrs:{id:"map"}})])},c=[],s=r("5eee"),l=r("a2c7"),p=r("480c"),u=r("2ef1"),h=r("78db2"),d=r("97e6"),y=r("fdb7"),m=(r("caad"),r("83a6")),w=r("8682"),f=r("ce2c"),v=r("6cbf"),b=r("6c77");const g=e=>new m["a"](e),x=e=>new w["a"](e),_=e=>new f["a"]({radius:e.radius,fill:g(e.fill),stroke:x(e.stroke)}),S=(e,t)=>{switch(e){case"fill":return new m["a"](t);case"stroke":return new w["a"](t);case"circle":return new _(t);case"icon":return new v["a"](t);default:break}},k=e=>new b["b"](e),z=e=>{const t={};return Object.keys(e).forEach(r=>{const a=e[r];t[r]=j(a)}),t},j=e=>{const t={};return Object.keys(e).forEach(r=>{const a=e[r],i=S(r,a);if(i){let e=["circle","icon"].includes(r)?"image":r;t[e]=i}}),k(t)},V={Land:{fill:{color:"#fff"},stroke:{color:"#000",width:1}},"Boundary line":{stroke:{color:"#ccc"}},"Marine area":{fill:{color:"#b0e1ff"}},Road:{stroke:{color:"#ccc",width:1}},"Water area":{fill:{color:"#b0e1ff"}}};var L=r("78db"),O=r("256f");const T=z(V);var M={data(){return{map:null,view:null,center:[113,32],tileList:[{code:"geoq_",name:"智图暖色版",url:"https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"geoq_dark",name:"智图深色版",url:"https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"geoq_Gray",name:"智图灰色版",url:"https://map.geoq.cn/arcgis/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"esri_raster",name:"arcgis影像",url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"esri_elevation",name:"arcgis地形",url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"esri_elevation_Dark",name:"arcgi黑色地形",url:"http://server.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"esri_Dark",name:"arcgi黑色矢量",url:" http://server.arcgisonline.com/arcgis/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",type:"xyz"},{code:"weather",name:"weather网站底图",url:"https://tiles.windy.com/tiles/v9.0/darkmap/{z}/{x}/{y}.png",type:"xyz"},{code:"maptiler",name:"maptiler地图(需要key)",url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=get_your_own_D6rA4zTHduk6KOKTXzGB",type:"xyz",projection:"3857"},{code:"esri-vectortile",name:"arcgis矢量瓦片自定义样式",url:"https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/tile/{z}/{y}/{x}.pbf",type:"vector"},{code:"mapbox-vectortile",name:"mapbox矢量瓦片自定义样式",url:"https://api.mapbox.com/v4/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2/{z}/{x}/{y}.vector.pbf",type:"vector",source:"mapbox",token:"sk.eyJ1IjoiaGlrZXI3IiwiYSI6ImNsNjF2cGVueTA1NjMzYmx2YTF1cXQ4Ym4ifQ.lq1lAwf2Filwm4E_9mykmg",projection:"3857",mark:"mapbox免费账号一天50000瓦片的限制"}],showLayerSwitch:!1}},mounted(){this.init()},methods:{init(){this.view=this.createView("4326",this.center);const e=this.createXYZTileLayer(this.tileList[0].url);this.map=new s["a"]({target:"map",view:this.view,layers:[e]}),this.baseLayer=e},createView(e,t=[0,0]){const r=new l["a"]({projection:"EPSG:"+e,center:t,zoom:7,minZoom:1,maxZoom:20});return r},createXYZTileLayer(e){const t=new u["a"]({url:e}),r=new p["a"]({source:t});return r},changeBaseLayer(e){let t;"xyz"===e.type?t=this.createXYZTileLayer(e.url):"vector"===e.type&&(t="mapbox"===e.source?this.createMapboxVectorTile(e):this.createVectorTile(e.url)),this.map.removeLayer(this.baseLayer),this.updateView(e.projection),this.map.addLayer(t),this.baseLayer=t},createVectorTile(e){const t=new d["a"]({source:new h["a"]({format:new y["a"],url:e,projection:"EPSG:4326"}),style:function(e){const t=e.get("layer");return T[t]}});return t},createMapboxVectorTile(e){const t=[];for(let o=0;o<=8;++o)t.push(156543.03392804097/Math.pow(2,2*o));const r=e.token,a=e.url;function i(e){let t=`${a}?access_token=${r}`;return t.replace("{z}",String(2*e[0]-1)).replace("{x}",String(e[1])).replace("{y}",String(e[2])).replace("{a-d}","abcd".substr(((e[1]<<e[0])+e[2])%4,1))}const n=new d["a"]({source:new h["a"]({format:new y["a"],tileGrid:new L["a"]({extent:Object(O["h"])("EPSG:3857").getExtent(),resolutions:t,tileSize:512}),tileUrlFunction:i})});return n},updateView(e){e||(e="4326");const t=this.map.getView(),r=t.getProjection().getCode();r!=="EPSG:"+e&&("3857"===e?this.updateViewTo3857(e):this.updateViewTo4326())},updateViewTo3857(){const e=this.map.getView().getCenter(),t=Object(O["e"])(e),r=this.createView("3857",t);this.map.setView(r)},updateViewTo4326(){const e=this.map.getView().getCenter(),t=this.createView("4326",Object(O["l"])(e));this.map.setView(t)}}},C=M,G=(r("49f8"),r("2877")),P=Object(G["a"])(C,o,c,!1,null,"8843eede",null),E=P.exports,I={name:"App",components:{MapView:E}},q=I,A=(r("5970"),Object(G["a"])(q,i,n,!1,null,null,null)),B=A.exports;r("5bc0"),r("3a10");a["a"].config.productionTip=!1,new a["a"]({render:e=>e(B)}).$mount("#app")},5970:function(e,t,r){"use strict";r("7646")},7646:function(e,t,r){}});